{% extends 'layout.twig' %}

{% block body %}
  <script>
	var publicIp = '{{publicIp}}'
	clientIp = '{{clientIp}}',
	publicIpInfo = JSON.parse('{{publicIpInfo}}'),
	clientIpInfo = JSON.parse('{{clientIpInfo}}');
  </script>
  <h2>{{stats.complete.qty}} Active Tunnels</h2>


  <table id="vpnEndpoints" class="display" style="width:100%">
    <thead><tr>
	    <th>Country</th>
	    <th></th>
	    <th>City</th>
	    <th>Speed</th>
	    <th>IP</th>
	    <th>Protocol</th>
	    <th>Test Duration</th>
	    <th>Name</th>
	    <th>Interface</th>
	    <th>Latitude</th>
	    <th>Longitude</th>
    </tr></thead><tbody>
  {% for vpn in stats.complete.data %}
    <tr>
            <td>{{vpn.data.CountryLong}}</td>
	    <td><span class="flag-icon flag-icon-{{vpn.data.CountryShort|lower}}"></span></td>
	    <td>{{vpn.ipInfo.city}}</td>
            <td>{{vpn.result.parsed.perSecondRate}}</td>
            <td>{{vpn.data.IP}}</td>
            <td>{{vpn.data.proto}}</td>
            <td>{{vpn.duration}}</td>
            <td>{{vpn.data.hostname}}</td>
            <td>{{vpn.data.tunnel}}</td>
            <td>{{vpn.ipInfo.latitude}}</td>
            <td>{{vpn.ipInfo.longitude}}</td>
    </tr>
  {% endfor %}
  </tbody></table>
  <div id="vpn-map" style="position: relative; height: 550px; width: 90%;"></div>



<script src='/js/index.js'></script>




{% endblock %}
